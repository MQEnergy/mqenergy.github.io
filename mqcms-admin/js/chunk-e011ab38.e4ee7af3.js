(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e011ab38"],{"02b5":function(e,t,a){"use strict";var n=a("2197"),l=a.n(n);l.a},"04a4":function(e,t,a){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2197:function(e,t,a){},3523:function(e,t,a){},"3d50":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-form"},[a("Form",{ref:"searchForm",attrs:{"label-width":e.labelWidth,"label-position":e.labelPosition}},[a("Row",{staticClass:"search-form-base-row"},[a("Col",e._b({},"Col",e.gridLeft,!1),[a("FormItem",{attrs:{"label-width":0}},[e.showSearch?a("div",[a("Input",{staticClass:"search-form-base-row-input",attrs:{size:e.size,clearable:"",search:"","enter-button":"搜索",placeholder:"请输入查询内容"},on:{"on-search":e.handleSubmit},model:{value:e.baseSearchForm.keyword,callback:function(t){e.$set(e.baseSearchForm,"keyword",t)},expression:"baseSearchForm.keyword"}},[a("Select",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{slot:"prepend"},slot:"prepend",model:{value:e.baseSearchForm.type,callback:function(t){e.$set(e.baseSearchForm,"type",t)},expression:"baseSearchForm.type"}},e._l(e.baseSearchForm.options,(function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),e.showAdvanced?a("Button",{directives:[{name:"color",rawName:"v-color",value:"#2d8cf0",expression:"'#2d8cf0'"}],staticStyle:{float:"left"},attrs:{size:e.size,type:"text"},on:{click:function(t){e.collapse=!e.collapse}}},[e._v(" "+e._s(e.collapse?"普通搜索":"高级搜索")+" "),a("Icon",{attrs:{type:e.collapse?"ios-arrow-up":"ios-arrow-down"}})],1):e._e()],1):e._e()])],1),a("Col",e._b({},"Col",e.gridRight,!1),[a("FormItem",{staticStyle:{float:"right"},attrs:{"label-width":0}},[e.showRefresh?a("Button",{staticClass:"ivu-ml-8",attrs:{size:e.size,type:"success",icon:"md-refresh"},on:{click:e.handleRefresh}},[e._v("刷新 ")]):e._e(),e.showCreate?a("Button",{staticClass:"ivu-ml-8",attrs:{size:e.size,type:"primary",icon:"md-add"},on:{click:e.handleOpenCreate}},[e._v("新建 ")]):e._e(),e.showExport?a("Button",{staticClass:"ivu-ml-8",attrs:{size:e.size,type:"primary",icon:"md-arrow-down"},on:{click:e.handleExport}},[e._v("导出 ")]):e._e(),e.showImport?a("Button",{staticClass:"ivu-ml-8",attrs:{size:e.size,type:"primary",icon:"md-arrow-up"},on:{click:e.handleImport}},[e._v("导入 ")]):e._e(),e.showMultiAction?a("Dropdown",{staticClass:"ivu-ml-8",attrs:{size:e.size},on:{"on-click":e.handleMultiClick}},[a("Button",[e._v(" 更多操作 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.multiActions,(function(t,n){return a("DropdownItem",{key:n,attrs:{name:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e()],1)],1)],1),e.showAdvanced&&e.collapse?a("Row",{staticStyle:{"margin-top":"10px"}},[e._l(e.advancedSearchForm,(function(t,n){return a("Col",e._b({key:n},"Col",e.grid,!1),[a("FormItem",{attrs:{label:t.label_name,prop:t.label_prop,"label-for":t.label_prop}},["select"===t.ele_type?[a("Select",{attrs:{size:e.size,placeholder:"请选择",clearable:"","element-id":t.label_prop},model:{value:t.ele_value,callback:function(a){e.$set(t,"ele_value",a)},expression:"item.ele_value"}},e._l(t.options,(function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)]:"input"===t.ele_type?[a("Input",{attrs:{placeholder:"请输入关键词搜索",size:e.size,clearable:"","element-id":t.label_prop},model:{value:t.ele_value,callback:function(a){e.$set(t,"ele_value",a)},expression:"item.ele_value"}})]:"switch"===t.ele_type?[a("i-switch",{attrs:{"true-value":t.options.true_value,"false-value":t.options.false_value,size:e.size},on:{"on-change":e.handleSwitchChange},model:{value:t.ele_value,callback:function(a){e.$set(t,"ele_value",a)},expression:"item.ele_value"}},[[a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(t.options[0].open))]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(t.options[0].close))])]],2)]:"date"===t.ele_type||"datetime"===t.ele_type||"daterange"===t.ele_type||"datetimerange"===t.ele_type||"year"===t.ele_type||"month"===t.ele_type?[a("DatePicker",{ref:"date_picker_"+t.label_prop,refInFor:!0,staticStyle:{width:"100%"},attrs:{size:e.size,value:t.ele_value,type:t.ele_type,format:e.dateFormat(t.format,t.ele_type),options:t.options,placeholder:"请选择日期"},on:{"on-change":function(a){return e.handleDateChange(t.label_prop,n)}}})]:e._e()],2)],1)})),a("Col",e._b({},"Col",e.grid,!1),[e._t("content")],2),e.showAdvanced?a("Col",e._b({staticClass:"search-form-advanced-search-btn"},"Col",e.grid,!1),[a("FormItem",[a("Button",{attrs:{type:"primary",size:e.size},on:{click:e.handleSubmit}},[e._v("高级搜索")]),a("Button",{staticClass:"ivu-ml-8",attrs:{size:e.size},on:{click:e.handleReset}},[e._v("重置")])],1)],1):e._e()],2):e._e()],1)],1)},l=[],o=(a("4160"),a("159b"),a("5530")),r=a("2f62"),s={data:function(){return{}},methods:{dateFormat:function(e,t){switch(t){case"date":case"daterange":return e||"yyyy-MM-dd";case"datetime":case"datetimerange":return e||"yyyy-MM-dd HH:mm";case"year":return e||"yyyy";case"month":return e||"yyyy-MM";default:return e||"yyyy-MM-dd HH:mm"}}}},i={name:"search-form",mixins:[s],props:{size:{type:String,default:"default"},showSearch:{type:Boolean,default:!0},showRefresh:{type:Boolean,default:!0},showExport:{type:Boolean,default:!1},showImport:{type:Boolean,default:!1},showCreate:{type:Boolean,default:!0},showAdvanced:{type:Boolean,default:!0},showMultiAction:{type:Boolean,default:!1},multiActions:{type:Array,default:function(){return[]}},baseSearchForm:{type:Object,default:function(){return{}}},advancedSearchForm:{type:Array,default:function(){return[]}}},data:function(){return{gridLeft:{xl:16,lg:14,md:12,sm:24,xs:24},gridFullLeft:{span:24},gridRight:{xl:8,lg:10,md:12,sm:24,xs:24},grid:{xl:8,lg:8,md:12,sm:24,xs:24},collapse:!1,searchForm:{_time:{},_is_base_search:!1},timeArr:[],selectedKeys:[]}},computed:Object(o["a"])({},Object(r["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:100},labelPosition:function(){return this.isMobile?"top":"right"}}),methods:{handleSubmit:function(){this.handleAdvancedSearchForm(),this.$emit("on-search",this.searchForm)},handleReset:function(){this.baseSearchForm.keyword="",this.advancedSearchForm.length>0&&this.advancedSearchForm.forEach((function(e,t){"switch"!==e.ele_type&&(e.ele_value="")})),this.searchForm={_time:{},_is_base_search:!1},this.$emit("on-reset",this.searchForm)},handleRefresh:function(){this.handleAdvancedSearchForm(),this.searchForm._is_base_search=!0,this.$emit("on-search",this.searchForm)},handleAdvancedSearchForm:function(){var e=this;if(this.searchForm={_type:this.baseSearchForm.type,_keyword:this.baseSearchForm.keyword,_time:{},_is_base_search:""!==this.baseSearchForm.keyword},this.advancedSearchForm.length>0){var t={};this.advancedSearchForm.forEach((function(a,n){switch(a.ele_type){case"date":case"datetime":case"daterange":case"datetimerange":case"year":case"month":t[a.label_prop]=a.ele_value,e.searchForm._time=t;break;default:e.searchForm[a.label_prop]=a.ele_value;break}}))}},handleOpenCreate:function(){this.$emit("on-create-form",!0,-1)},handleExport:function(){this.$emit("on-export")},handleImport:function(){this.$emit("on-import")},handleMultiClick:function(e){this.$emit(e)},handleSwitchChange:function(e){},handleDateChange:function(e,t){var a=this.$refs["date_picker_".concat(e)][0].publicStringValue;this.advancedSearchForm[t].ele_value=a}}},c=i,d=(a("02b5"),a("2877")),u=Object(d["a"])(c,n,l,!1,null,"0fb5c9bc",null);t["a"]=u.exports},"50b2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-container"},[e.isIcon?a("p",[a("Icon",{staticClass:"empty-container-icon",class:e.styleClass,attrs:{type:e.icon}})],1):a("p",[a("img",{staticClass:"empty-container-img",class:e.styleClass,attrs:{src:e.icon}})]),a("p",{staticClass:"empty-container-text"},[a("span",[e._v(e._s(e.emptyText))])]),e.isBack?a("p",{staticClass:"empty-container-btn"},[a("Button",{attrs:{shape:"circle",type:"dashed"},on:{click:e.handleBack}},[e._v("返回")])],1):e._e()])},l=[],o={name:"empty-list",props:{emptyText:{type:String,default:"暂无列表"},isIcon:{type:Boolean,default:!0},icon:{type:String,default:"ios-cube"},styleClass:{type:String,default:""},isBack:{type:Boolean,default:!0}},data:function(){return{}},methods:{handleBack:function(){history.back()}}},r=o,s=(a("d0ef"),a("2877")),i=Object(s["a"])(r,n,l,!1,null,"477405ae",null);t["a"]=i.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),l=a("5899"),o="["+l+"]",r=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),i=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(r,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(e,t,a){var n=a("861d"),l=a("d2bb");e.exports=function(e,t,a){var o,r;return l&&"function"==typeof(o=t.constructor)&&o!==a&&n(r=o.prototype)&&r!==a.prototype&&l(e,r),e}},"7dca":function(e,t,a){},"841c":function(e,t,a){"use strict";var n=a("d784"),l=a("825a"),o=a("1d80"),r=a("129f"),s=a("14c3");n("search",1,(function(e,t,a){return[function(t){var a=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var o=l(e),i=String(this),c=o.lastIndex;r(c,0)||(o.lastIndex=0);var d=s(o,i);return r(o.lastIndex,c)||(o.lastIndex=c),null===d?-1:d.index}]}))},"85e9":function(e,t,a){"use strict";var n=a("3523"),l=a.n(n);l.a},"963e":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"h",(function(){return o})),a.d(t,"j",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a("b6bd");function l(e){return Object(n["a"])({url:"/admin/index",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/admin/index",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/admin/show",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/admin/update",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/admin/store",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/admin/delete",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/admin/module",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/admin/role-list",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/admin/distribute-role",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/admin/clear-cache",method:"post",data:e})}},"9f7e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table-creater")],1)},l=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ivu-pt-16"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{xl:16,lg:16,md:24,sm:24,xs:24}},[a("Row",[a("Col",{staticClass:"ivu-mb",attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("Card",{attrs:{bordered:!1,"dis-hover":""}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("基础组件")]),a("div",{staticClass:"list-group-left-top-container"},[a("Row",{attrs:{gutter:10}},[a("draggable",e._b({attrs:{move:e.onMove},on:{clone:e.onClone,start:e.onStart,end:e.onEnd},model:{value:e.componentsList,callback:function(t){e.componentsList=t},expression:"componentsList"}},"draggable",e.dragOptionsLeft,!1),[a("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},e._l(e.componentsList,(function(t){return a("Col",{key:t.ele_id,staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[a("Button",{staticClass:"list-group-item",attrs:{long:"",type:"dashed"}},[e._v(e._s(t.ele_title))])],1)})),1)],1)],1)],1)])],1),a("Col",{attrs:{span:24}},[a("Card",{attrs:{bordered:!1,"dis-hover":""}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 可视区域 "),a("div",{staticStyle:{float:"right"}},[a("Dropdown",{attrs:{placement:"bottom-end"},on:{"on-click":e.handleDropDownClick}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"show"}},[a("Icon",{attrs:{type:"md-eye"}}),e._v(" 预览")],1),a("DropdownItem",{attrs:{name:"create"}},[a("Icon",{attrs:{type:"md-list-box"}}),e._v(" 生成代码")],1)],1)],1)],1)]),a("div",{staticClass:"list-group-left-bottom-container"},[a("Row",{attrs:{gutter:10}},[0===e.draggedList.length?a("Col",{attrs:{span:24}},[e.isDragging?e._e():a("div",{staticStyle:{height:"20px","text-align":"center",color:"#999"}},[a("empty",{attrs:{"empty-text":"请将上面组件拖入到可视区域","is-back":!1}})],1)]):e._e(),a("draggable",e._b({attrs:{element:"div"},model:{value:e.draggedList,callback:function(t){e.draggedList=t},expression:"draggedList"}},"draggable",e.dragOptionsRight,!1),[a("transition-group",{staticClass:"list-group",attrs:{tag:"div"}},e._l(e.draggedList,(function(t,n){return a("Col",{key:t.ele_hash,staticClass:"list-group-item",class:[t.is_active?"active":""],attrs:{span:24}},[t.is_active?a("div",{staticClass:"active-absolute"},[a("div",{staticClass:"active-absolute-close",on:{click:function(a){return e.handleFormItemClose(t,n)}}},[a("Icon",{staticClass:"md-close",attrs:{type:"md-close"}})],1)]):e._e(),a("div",{on:{click:function(a){return e.handleFormItemClick(t,n)}}},["search"===t.ele_name?[a("component-search",{attrs:{element:t,index:n,"form-config":e.formConfig},on:{"on-create-form":e.handleOpenUpdateCreate}})]:e._e(),e._t("table-item"),"table"===t.ele_name?[a("component-table",{attrs:{element:t,index:n,"form-config":e.formConfig}})]:e._e()],2)])})),1)],1)],1)],1)])],1)],1)],1),a("Col",{attrs:{xl:8,lg:8,md:24,sm:24,xs:24}},[a("Card",{attrs:{bordered:!1,"dis-hover":""}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("属性设置")]),a("div",{staticClass:"list-group-container",staticStyle:{"overflow-y":"hidden"}},[a("Tabs",{attrs:{type:"card"}},[a("TabPane",{attrs:{label:"字段属性"}},[a("div",{staticStyle:{height:"535px","overflow-y":"scroll"}},[void 0===e.currentElement?a("empty",{attrs:{"empty-text":"请选择左边可视区域中的元素","is-back":!1}}):e._e(),a("table-attribute",{attrs:{"current-element":e.currentElement,"form-config":e.formConfig},on:{"on-element-size":e.handleElementSize}})],1)]),a("TabPane",{attrs:{label:"表格属性"}},[a("Form",{attrs:{model:e.formConfig,"label-position":"top"}},[a("FormItem",{attrs:{label:"组件尺寸"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(t){return e.handleElementSize(2)}},model:{value:e.formConfig.table.size,callback:function(t){e.$set(e.formConfig.table,"size",t)},expression:"formConfig.table.size"}},[a("Radio",{attrs:{label:"default"}},[e._v("default")]),a("Radio",{attrs:{label:"small"}},[e._v("small")]),a("Radio",{attrs:{label:"large"}},[e._v("large")])],1)],1),a("FormItem",{attrs:{label:"分页数（limit）"}},[a("InputNumber",{attrs:{max:500,min:10,step:10,placeholder:"分页数"},model:{value:e.formConfig.table.limit,callback:function(t){e.$set(e.formConfig.table,"limit",t)},expression:"formConfig.table.limit"}})],1),a("FormItem",{attrs:{label:"自定义表单class"}},[a("Input",{attrs:{placeholder:"请输入class属性"},model:{value:e.formConfig.table.custom_class,callback:function(t){e.$set(e.formConfig.table,"custom_class",t)},expression:"formConfig.table.custom_class"}})],1)],1)],1),a("TabPane",{attrs:{label:"组件json数据"}},[a("div",{staticStyle:{height:"535px","overflow-y":"scroll"}},[void 0===e.currentElement?a("empty",{attrs:{"empty-text":"请选择左边可视区域中的元素","is-back":!1}}):a("div",[a("codemirror",{ref:"CodeMirror",staticClass:"mq-code-mirror",attrs:{options:e.cmOptions},model:{value:e.listString,callback:function(t){e.listString=t},expression:"listString"}}),a("p",{staticStyle:{"text-align":"center"}},[a("Button",{on:{click:e.handleCopyCode}},[e._v("复制代码")])],1)],1)],1)])],1)],1)])],1)],1),a("Modal",{attrs:{title:e.formConfig.show.modal_title,width:e.formConfig.show.modal_width,"mask-closable":e.formConfig.show.modal_mask_closable},on:{"on-ok":e.handleModalShowOk,"on-cancel":e.handleModalShowCancel},model:{value:e.elementShowSeen,callback:function(t){e.elementShowSeen=t},expression:"elementShowSeen"}},[e.elementShowSeen?a("show",{attrs:{"dragged-list":e.draggedList}}):e._e()],1)],1)},r=[],s=(a("4160"),a("a434"),a("159b"),a("8f94")),i=(a("a7be"),a("d2e8"),a("f9d4"),a("310e")),c=a.n(i),d=a("d160"),u=a("50b2"),m={config:{search:{search_action:{module:"",value:"",data:[]}},table:{label_width:80,label_position:"right",size:"default",size_active:!0,custom_class:"",page:1,limit:10},show:{modal_title:"详情",modal_width:"1000",modal_mask_closable:!1},icon:{modal_title:"选择图片",modal_width:"800",modal_mask_closable:!1,font_family:"i-icon",css_prefix_text:"i-icon-"}},list:[{ele_id:1,ele_title:"搜索组件",ele_name:"search",ele_hash:"",custom_class:"",sele_value:"分割文本",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{search_action:{module:"",value:"",data:[]},base_search_form:{type:"id",keyword:"",options:[{name:"ID",value:"id"}]},advanced_search_form:[{label_name:"label_name:",label_prop:"label_prop",ele_value:"",ele_type:"input",options:[]}],show_refresh:!0,show_export:!1,show_import:!1,show_create:!0,show_advanced:!0,show_multi_action:!1,multi_actions:[{name:"批量删除",value:"on-multi-del"}]}},{ele_id:2,ele_title:"表格组件",ele_name:"table",ele_hash:"",custom_class:"",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{data:[],columns:[],stripe:!1,border:!1,show_header:!0,width:"auto",height:"",max_height:"",loading:!1,disabled_hover:!1,highlight_row:{value:!1,event:"on-current-change"},row_class_name:"on-row-class-name",no_data_text:"暂无数据",no_filtered_data_text:"暂无筛选结果",draggable:!1,tooltip_theme:"dark",row_key:!1,span_method:"on-span-method",show_summary:!1,sum_text:"合计",summary_method:"on-summary-method",indent_size:"16",load_data:"on-load-data",context_menu:{value:!1,event:"on-contextmenu"},column_attr:{type:"",title:"#",key:"",width:"",min_width:"",max_width:"",align:"left",class_name:"",fixed:"",ellipsis:!1,tooltip:!1,render:"on-render",render_header:"on-render-header",index_method:"on-index-method",sortable:{value:!1,event:"on-sort-method"},sort_type:"",filters:{value:[],event:"on-filter-method"},filter_multiple:!0,filtered_value:[],filter_remote:"on-filter-remote",children:[],resizable:!1,tree:""}}}],search_form:[{ele_id:1,ele_title:"input组件",ele_name:"input",ele_hash:"",label_width:80,ele_width:"",custom_class:"",ele_prop:"input",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{type:"text",placeholder:"请输入内容",clearable:!0,disabled:!1,readonly:!1,required:!1,maxlength:200,show_word_limit:!1,password:!1,icon:"",prefix:"",suffix:"",search:!1,enter_button:!1,rows:2,autosize:!1,number:!1,autofocus:!1,autocomplete:"off",element_id:"",spellcheck:!1,wrap:"soft"},ele_value:"",options:[]},{ele_id:2,ele_title:"单选框组",ele_name:"radio_group",ele_hash:"",label_width:80,ele_width:"100",ele_prop:"radio_group",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{group_type:"",group_vertical:!1,border:!1},ele_value:"1",options:[{label:"1",value:"是",icon:"",disabled:!1,true_value:!0,false_value:!1},{label:"0",value:"否",icon:"",disabled:!1,true_value:!0,false_value:!1}]},{ele_id:3,ele_title:"多选框组",ele_name:"checkbox_group",ele_hash:"",label_width:80,ele_width:"",custom_class:"",ele_prop:"checkbox_group",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{indeterminate:!1,border:!1},ele_value:[],options:[{label:"项目一",disabled:!1,icon:"",true_value:!0,false_value:!1},{label:"项目二",disabled:!1,icon:"",true_value:!0,false_value:!1}]},{ele_id:4,ele_title:"日期组件",ele_name:"datepicker",ele_hash:"",label_width:80,ele_width:"",custom_class:"",ele_prop:"datepicker",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{type:"date",format:"yyyy-MM-dd",placement:"bottom-start",placeholder:"请选择日期",options:{shortcuts:{text:"",value:"",onClick:"handleDatePickerClick()"},disabledDate:"handleDatePickerDisableDate()"},split_panels:!1,multiple:!1,show_week_numbers:!1,start_date_year:(new Date).getFullYear(),start_date_month:(new Date).getMonth()+1,start_date_day:(new Date).getDay(),confirm:!1,open:null,disabled:!1,clearable:!0,readonly:!1,editable:!0,transfer:!1,element_id:"",time_picker_options:{},separator:"--",capture:!0},ele_value:"",options:{}},{ele_id:5,ele_title:"select组件",ele_name:"select",ele_hash:"",label_width:80,ele_width:"",custom_class:"",ele_prop:"select",ele_size:"default",ele_value:"",size_active:!1,is_active:!1,ele_attr:{multiple:!1,disabled:!1,clearable:!0,filterable:!1,remote:!1,loading:!1,loading_text:"",label:"",placeholder:"请选择",not_found_text:"无匹配数据",label_in_value:!1,placement:"bottom-start",transfer:!1,element_id:"",transfer_class_name:"",prefix:"",max_tag_count:3,max_tag_placeholder:"",allow_create:!1,capture:!0},options:[{label:"项目1",value:"项目1",desc:"",disabled:!1,tag:"项目1"},{label:"项目2",value:"项目2",desc:"",disabled:!1,tag:"项目2"}]},{ele_id:6,ele_title:"switch组件",ele_name:"switch",ele_hash:"",label_width:90,ele_width:"",custom_class:"",ele_prop:"switch",ele_size:"default",size_active:!1,is_active:!1,ele_attr:{disabled:!1,loading:!1,true_value:"1",false_value:"0",true_color:"",false_color:"",custom:{name:"span",slot:["open","close"],type:["开","关"],is_custom:!1}},ele_value:"1",options:[]}]},h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.draggedList,(function(t,n){return a("div",{key:t.ele_hash},["search"===t.ele_name?[a("component-search",{attrs:{element:t,index:n,"form-config":e.formConfig},on:{"on-create-form":e.handleOpenUpdateCreate}})]:e._e(),"table"===t.ele_name?[a("component-table",{attrs:{element:t,index:n,"form-config":e.formConfig}})]:e._e()],2)})),0)},p=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search-form",{ref:"searchForm",attrs:{size:e.element.ele_size,"show-create":e.element.ele_attr.show_create,"show-refresh":e.element.ele_attr.show_refresh,"show-advanced":e.element.ele_attr.show_advanced,"show-export":e.element.ele_attr.show_export,"show-import":e.element.ele_attr.show_import,"show-multi-action":e.element.ele_attr.show_multi_action,"multi-actions":e.element.ele_attr.multi_actions,"base-search-form":e.element.ele_attr.base_search_form,"advanced-search-form":e.element.ele_attr.advanced_search_form},on:{"on-create-form":e.handleOpenUpdateCreate,"on-search":e.handleData,"on-reset":e.handleData,"on-multi-del":e.handleMultiDel,"on-export":e.handleExport}})],1)},f=[],v=(a("d81d"),a("a9e3"),a("d3b7"),a("ac1f"),a("841c"),a("1276"),a("a34a")),b=a.n(v),g=(a("96cf"),a("1da1")),w=a("3d50"),y=a("b6bd"),x={name:"component-search",props:{element:{type:Object,default:{}},index:{type:Number,default:0},formConfig:{type:Object,default:{}}},components:{SearchForm:w["a"]},data:function(){return{searchForm:{},list:[],total:0,loading:!1}},methods:{handleOpenUpdateCreate:function(e,t){this.$emit("on-create-form",e,t)},handleData:function(e){var t=this;if(this.searchForm=e,this.loading=!0,!this.element.ele_attr.search_action.value)return this.$Message.error("请选择搜索url"),!1;var a=this.element.ele_attr.search_action.value.split("|"),n={url:a[1],method:a[2]},l={page:this.formConfig.table.page,limit:this.formConfig.table.limit};return"get"===a[2]?n.params=l:(l.search=e,n.data=l),Object(y["a"])(n).then(function(){var e=Object(g["a"])(b.a.mark((function e(a){return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.list=a.data,t.total=a.total;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){t.loading=!1}))},handleMultiDel:function(){var e=this;if(0===this.selectedData.length)return this.$Message.error("请选择至少一个元素"),!1;var t=this.selectedData.map((function(e){return e.id}));this.$Modal.confirm({title:"删除提示",content:"确定要批量删除吗？",onOk:function(){e.$Message.success("删除成功: "+t)}})},handleExport:function(){this.$Message.success("导出成功")}}},C=x,S=a("2877"),k=Object(S["a"])(C,_,f,!1,null,"49e80933",null),I=k.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{ref:"table",staticClass:"ivu-mt",attrs:{columns:e.columns,data:e.limitData,loading:e.loading},on:{"on-sort-change":e.handleSortChange,"on-filter-change":e.handleFilterChange,"on-select":e.handleSelect,"on-select-cancel":e.handleSelectCancel,"on-select-all":e.handleSelectAll,"on-select-all-cancel":e.handleSelectAllCancel}})],1)},O=[],A=(a("4de4"),a("c740"),a("c975"),a("fb6a"),a("2909")),D={name:"component-table",props:{},data:function(){return{columns:[{type:"selection",width:60,align:"center"},{title:"操作",slot:"action",align:"center",minWidth:140}],loading:!1,list:[],selectedData:[],current:1,total:0,size:10,sortType:"normal",sortColumns:"",filterStatusType:void 0,filterHotType:void 0,filterTagType:void 0,searchForm:{}}},computed:{limitData:function(){var e=this,t=Object(A["a"])(this.list),a=this.sortColumns;"asc"===this.sortType&&(t=t.sort((function(e,t){return e[a]>t[a]?1:-1}))),"desc"===this.sortType&&(t=t.sort((function(e,t){return e[a]<t[a]?1:-1}))),this.filterStatusType&&this.filterStatusType.length&&(t=t.filter((function(t){return e.filterStatusType.indexOf(t.status)>=0}))),this.filterHotType&&this.filterHotType.length&&(t=t.filter((function(t){return e.filterHotType.indexOf(t.is_hot)>=0}))),this.filterTagType&&this.filterTagType.length&&(t=t.filter((function(t){return e.filterTagType.indexOf(t.tag_type)>=0})));var n=this.selectedData.map((function(e){return e.tag_name}));return t.map((function(e){return e._checked=n.indexOf(e.tag_name)>=0,e})),t},dataWithPage:function(){var e=this.limitData,t=this.current*this.size-this.size,a=t+this.size;return Object(A["a"])(e).slice(t,a)}},methods:{handleSelect:function(e,t){this.selectedData.push(t)},handleSortChange:function(e){var t=e.key,a=e.order;this.sortColumns=t,this.sortType=a,this.current=1},handleFilterChange:function(){this.current=1},handleSelectCancel:function(e,t){var a=this.selectedData.findIndex((function(e){return e.id===t.id}));this.selectedData.splice(a,1)},handleSelectAll:function(e){var t=this;e.forEach((function(e){t.selectedData.findIndex((function(t){return t.id===e.id}))<0&&t.selectedData.push(e)}))},handleSelectAllCancel:function(){var e=this,t=this.dataWithPage;t.forEach((function(t){var a=e.selectedData.findIndex((function(e){return e.id===t.id}));a>=0&&e.selectedData.splice(a,1)}))}}},z=D,F=Object(S["a"])(z,E,O,!1,null,"7fc55486",null),M=F.exports,T={name:"table-show",components:{ComponentTable:M,ComponentSearch:I},props:{draggedList:{type:Array,default:[]}},data:function(){return{componentsList:m.list,formConfig:m.config,formItem:{},uploadSeen:!1,currentElement:{}}},methods:{handleOpenUpdateCreate:function(e,t){this.$refs.createForm.handleShowUpdateCreate(e,t)}}},$=T,N=Object(S["a"])($,h,p,!1,null,"63193a9c",null),L=N.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["search"===e.currentElement.ele_name?a("attribute-search",{attrs:{"current-element":e.currentElement,"form-config":e.formConfig},on:{"on-element-size":e.handleElementSize}}):e._e(),"table"===e.currentElement.ele_name?a("attribute-table",{attrs:{"current-element":e.currentElement,"form-config":e.formConfig},on:{"on-element-size":e.handleElementSize}}):e._e()],1)},R=[],B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currentElement?a("div",[a("Form",{ref:"currentFormInline",attrs:{model:e.currentElement,"label-position":"top"}},[a("Card",{attrs:{"dis-hover":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("基本属性")]),a("FormItem",{attrs:{label:"字段hash"}},[a("Input",{attrs:{disabled:"",placeholder:"请输入字段标识"},model:{value:e.currentElement.ele_hash,callback:function(t){e.$set(e.currentElement,"ele_hash",t)},expression:"currentElement.ele_hash"}})],1),a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(" 搜索的url "),a("Tooltip",{attrs:{"max-width":"200",content:"配置搜索URL包含普通搜索和高级搜索的接口请求，搜索接口请选择如：AdminSearch 包含search的字母",placement:"top-start"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Row",{attrs:{gutter:2}},[a("Col",{attrs:{span:8}},[a("Select",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{clearable:""},on:{"on-change":e.handleSearchActionChange},model:{value:e.currentElement.ele_attr.search_action.module,callback:function(t){e.$set(e.currentElement.ele_attr.search_action,"module",t)},expression:"currentElement.ele_attr.search_action.module"}},e._l(e.apiList,(function(t,n){return a("Option",{key:n,attrs:{value:t.module,label:t.module}},[e._v(" "+e._s(t.module)+" "),a("Tooltip",{staticStyle:{float:"right",color:"#ccc"},attrs:{"max-width":"200",content:t.module_desc,placement:"top",transfer:!0}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1)})),1)],1),a("Col",{attrs:{span:16}},[e.currentElement.ele_attr.search_action.data.length>0?[a("Select",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{clearable:""},on:{"on-change":e.handleSearchUrlChange},model:{value:e.currentElement.ele_attr.search_action.value,callback:function(t){e.$set(e.currentElement.ele_attr.search_action,"value",t)},expression:"currentElement.ele_attr.search_action.value"}},e._l(e.currentElement.ele_attr.search_action.data,(function(t,n){return a("Option",{key:n,attrs:{value:t.func+"|"+t.url+"|"+t.method,label:t.func}},[a("span",[e._v(e._s(t.func))]),a("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(t.url))])])})),1)]:e._e()],2)],1),a("Poptip",{attrs:{"word-wrap":"",width:"200",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e.modelLoading?a("div",{directives:[{name:"height",rawName:"v-height",value:150,expression:"150"}]},[a("Spin",{attrs:{fix:"",size:"large"}})],1):a("div",{directives:[{name:"height",rawName:"v-height",value:150,expression:"150"}]},[e.currentModel.length>0?[e._v(" "+e._s(e.currentModel)+" ")]:[a("empty-list",{attrs:{"empty-text":"暂无数据","is-back":!1}})]],2)]),e.currentElement.ele_attr.search_action.module?a("Button",{staticClass:"ivu-mt-8",attrs:{type:"primary"},on:{click:e.handleModuleTableClick}},[e._v(" 获取数据字段数据 "),a("Tooltip",{attrs:{"max-width":"200",placement:"top"}},[a("div",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{slot:"content"},slot:"content"},[e._v(" 点击此选项可方便查看字段值，且在搜索配置中选择字段值 ")]),a("Icon",{attrs:{type:"md-help-circle"}})],1)],1):e._e()],1)],1),a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(" 基础搜索配置 "),a("Tooltip",{attrs:{"max-width":"200",content:"这是select的选项参数，依次是：name（选项名称）value（选项值）,value与数据表字段一致",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("div",{staticStyle:{background:"#f0f1f3",padding:"10px"}},[e._l(e.currentElement.ele_attr.base_search_form.options,(function(t,n){return a("div",[a("Row",[a("Col",{attrs:{span:20}},[a("div",{staticClass:"ivu-fl"},[a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"name",clearable:""},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),e._v(" "),a("AutoComplete",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{"filter-method":e.handleBaseAutoFilter,placeholder:"value",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},[a("div",{directives:[{name:"height",rawName:"v-height",value:200,expression:"200"}]},e._l(e.currentModel,(function(t,n){return a("Option",{key:n,attrs:{value:t}},[e._v(e._s(t))])})),1)])],1)]),a("Col",{attrs:{span:4}},[a("div",{staticClass:"ivu-fr"},[a("Icon",{directives:[{name:"color",rawName:"v-color",value:"#ed4014",expression:"'#ed4014'"}],staticStyle:{cursor:"pointer"},attrs:{type:"md-close-circle"},on:{click:function(t){return e.handleOptionRemove(n)}}}),a("Dropdown",{staticClass:"ivu-ml-8",attrs:{placement:"bottom-end"},on:{"on-click":function(a){return e.handleBasicActionDropdownMenu(a,t,n)}}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"copy"}},[e._v("向下复制")]),a("DropdownItem",{attrs:{name:"init"}},[e._v("设为初始值")])],1)],1)],1)])],1)],1)})),a("Button",{staticClass:"ivu-mt-8",attrs:{type:"dashed",long:""},on:{click:e.handleAddOption}},[a("Icon",{attrs:{type:"md-add"}}),e._v(" 新增搜索项")],1)],2)]),a("FormItem",{staticStyle:{"margin-bottom":"10px"}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(" 高级搜索配置 "),a("Tooltip",{attrs:{"max-width":"200",content:"参数依次是：label_name(label名称), label_prop(label的prop，与数据库搜索字段一致), ele_type(iview组件类型), options(在元素类型为select，switch下使用)",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("div",{staticStyle:{background:"#f0f1f3",padding:"10px"}},[e._l(e.currentElement.ele_attr.advanced_search_form,(function(t,n){return a("div",{key:n},[a("Row",[a("Col",{attrs:{span:20}},[a("div",{staticClass:"ivu-fl"},[a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"label_name",clearable:""},model:{value:t.label_name,callback:function(a){e.$set(t,"label_name",a)},expression:"item.label_name"}}),e._v(" "),a("AutoComplete",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{"filter-method":e.handleBaseAutoFilter,placeholder:"label_prop",clearable:""},model:{value:t.label_prop,callback:function(a){e.$set(t,"label_prop",a)},expression:"item.label_prop"}},[a("div",{directives:[{name:"height",rawName:"v-height",value:200,expression:"200"}]},e._l(e.currentModel,(function(t,n){return a("Option",{key:n,attrs:{value:t}},[e._v(e._s(t))])})),1)]),a("Select",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],on:{"on-change":function(a){return e.handleAdvancedTypeChange(a,t,n)}},model:{value:t.ele_type,callback:function(a){e.$set(t,"ele_type",a)},expression:"item.ele_type"}},[a("Option",{attrs:{value:"input"}},[e._v("input")]),a("Option",{attrs:{value:"select"}},[e._v("select")]),a("Option",{attrs:{value:"switch"}},[e._v("switch")]),a("Option",{attrs:{value:"date"}},[e._v("date")]),a("Option",{attrs:{value:"datetime"}},[e._v("datetime")]),a("Option",{attrs:{value:"daterange"}},[e._v("daterange")]),a("Option",{attrs:{value:"datetimerange"}},[e._v("datetimerange")]),a("Option",{attrs:{value:"year"}},[e._v("year")]),a("Option",{attrs:{value:"month"}},[e._v("month")])],1)],1)]),a("Col",{attrs:{span:4}},[a("div",{staticClass:"ivu-fr"},[a("Icon",{directives:[{name:"color",rawName:"v-color",value:"#ed4014",expression:"'#ed4014'"}],staticStyle:{cursor:"pointer"},attrs:{type:"md-close-circle"},on:{click:function(t){return e.handleActionRemove(n)}}}),a("Dropdown",{staticClass:"ivu-ml-8",attrs:{placement:"bottom-end"},on:{"on-click":function(a){return e.handleAdvancedActionDropdownMenu(a,t,n)}}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"copy"}},[e._v("向下复制")]),"select"===t.ele_type?a("DropdownItem",{attrs:{name:"other-params-select"}},[e._v("设置选项")]):e._e(),"switch"===t.ele_type?a("DropdownItem",{attrs:{name:"other-params-switch"}},[e._v("设置属性")]):e._e()],1)],1)],1)])],1),t.options.length>0?a("div",{staticStyle:{background:"#dfe3e8",padding:"10px",margin:"5px 0"}},["select"===t.ele_type?e._l(t.options,(function(l,o){return a("div",{key:o},[e._v(" 选项"+e._s(o+1)+"： "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"name",clearable:""},model:{value:l.name,callback:function(t){e.$set(l,"name",t)},expression:"val.name"}}),e._v(" "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"value",clearable:""},model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"val.value"}}),e._v(" "),a("div",{staticClass:"ivu-fr"},[a("Icon",{directives:[{name:"color",rawName:"v-color",value:"#ed4014",expression:"'#ed4014'"}],staticStyle:{cursor:"pointer"},attrs:{type:"md-close-circle"},on:{click:function(a){return e.handleAdvancedActionOptionsRemove(t.options,o)}}}),a("Dropdown",{staticClass:"ivu-ml-8",attrs:{placement:"bottom-end"},on:{"on-click":function(t){return e.handleAdvancedActionOptionsDropdownMenu(t,n,l,o)}}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"copy"}},[e._v("向下复制")])],1)],1)],1)],1)})):e._e(),"switch"===t.ele_type?[e._v(" 开启： "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"open",clearable:""},model:{value:t.options[0].open,callback:function(a){e.$set(t.options[0],"open",a)},expression:"item.options[0].open"}}),e._v(" "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"true_value",clearable:""},model:{value:t.options[0].true_value,callback:function(a){e.$set(t.options[0],"true_value",a)},expression:"item.options[0].true_value"}}),a("br"),e._v(" 关闭： "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"close",clearable:""},model:{value:t.options[0].close,callback:function(a){e.$set(t.options[0],"close",a)},expression:"item.options[0].close"}}),e._v(" "),a("Input",{directives:[{name:"width",rawName:"v-width",value:100,expression:"100"}],attrs:{placeholder:"false_value",clearable:""},model:{value:t.options[0].false_value,callback:function(a){e.$set(t.options[0],"false_value",a)},expression:"item.options[0].false_value"}}),a("br")]:e._e()],2):e._e()],1)})),a("Button",{staticClass:"ivu-mt-8",attrs:{type:"dashed",long:""},on:{click:e.handleAddAction}},[a("Icon",{attrs:{type:"md-add"}}),e._v(" 新增搜索项")],1)],2)])],1),a("Card",{staticStyle:{"margin-top":"15px"},attrs:{"dis-hover":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 其他属性 "),a("span",{staticStyle:{width:"150px",cursor:"pointer"}},[a("Tooltip",{attrs:{"max-width":"160",content:"查看文档地址：http://help.mqcms.net",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1)]),a("FormItem",{attrs:{label:"组件尺寸"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(t){return e.handleElementSize(1)}},model:{value:e.currentElement.ele_size,callback:function(t){e.$set(e.currentElement,"ele_size",t)},expression:"currentElement.ele_size"}},[a("Radio",{attrs:{label:"default"}},[e._v("default")]),a("Radio",{attrs:{label:"small"}},[e._v("small")]),a("Radio",{attrs:{label:"large"}},[e._v("large")])],1)],1),a("FormItem",{attrs:{label:"自定义class"}},[a("Input",{attrs:{placeholder:"请输入自定义class"},model:{value:e.currentElement.custom_class,callback:function(t){e.$set(e.currentElement,"custom_class",t)},expression:"currentElement.custom_class"}})],1),a("FormItem",{attrs:{label:"额外属性"}},[a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_refresh,callback:function(t){e.$set(e.currentElement.ele_attr,"show_refresh",t)},expression:"currentElement.ele_attr.show_refresh"}},[e._v(" show_refresh "),a("Tooltip",{attrs:{"min-width":"180","max-width":"180",content:"设置展示刷新按钮，需配合@on-search事件使用",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_export,callback:function(t){e.$set(e.currentElement.ele_attr,"show_export",t)},expression:"currentElement.ele_attr.show_export"}},[e._v(" show_export "),a("Tooltip",{attrs:{"min-width":"180","max-width":"180",content:"设置展示导出按钮，需配合@on-export事件使用",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_import,callback:function(t){e.$set(e.currentElement.ele_attr,"show_import",t)},expression:"currentElement.ele_attr.show_import"}},[e._v(" show_import "),a("Tooltip",{attrs:{"min-width":"180","max-width":"180",content:"设置展示导入按钮，需配合@on-import事件使用",placement:"top",transfer:!0}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_create,callback:function(t){e.$set(e.currentElement.ele_attr,"show_create",t)},expression:"currentElement.ele_attr.show_create"}},[e._v(" show_create "),a("Tooltip",{attrs:{"min-width":"180","max-width":"180",content:"设置展示新建按钮，需配合@on-create-form事件使用",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_advanced,callback:function(t){e.$set(e.currentElement.ele_attr,"show_advanced",t)},expression:"currentElement.ele_attr.show_advanced"}},[e._v(" show_advanced "),a("Tooltip",{attrs:{"min-width":"180","max-width":"180",content:"设置展示高级搜索功能",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),a("Checkbox",{attrs:{"true-value":!0,"false-value":!1},model:{value:e.currentElement.ele_attr.show_multi_action,callback:function(t){e.$set(e.currentElement.ele_attr,"show_multi_action",t)},expression:"currentElement.ele_attr.show_multi_action"}},[e._v(" show_multi_action "),a("Tooltip",{attrs:{"max-width":"200",content:"设置更多操作按钮，内容依次为：name、value，name代表更多操作的选项名称，value代表操作的emit，调用父组件方法传递数据（尽量名称以on-开头），需配合@on-事件使用",placement:"top"}},[a("Icon",{attrs:{type:"md-help-circle"}})],1)],1),e.currentElement.ele_attr.show_multi_action?a("div",{staticStyle:{background:"#f0f1f3",padding:"10px"}},[e._l(e.currentElement.ele_attr.multi_actions,(function(t,n){return a("div",[a("Row",[a("Col",{attrs:{span:20}},[a("div",{staticClass:"ivu-fl"},[a("Input",{directives:[{name:"width",rawName:"v-width",value:120,expression:"120"}],attrs:{placeholder:"name",clearable:""},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),e._v(" "),a("Input",{directives:[{name:"width",rawName:"v-width",value:120,expression:"120"}],attrs:{placeholder:"value",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)]),a("Col",{attrs:{span:4}},[a("div",{staticClass:"ivu-fr"},[a("Icon",{directives:[{name:"color",rawName:"v-color",value:"#ed4014",expression:"'#ed4014'"}],staticStyle:{cursor:"pointer"},attrs:{type:"md-close-circle"},on:{click:function(t){return e.handleMultiActionRemove(n)}}})],1)])],1)],1)})),a("Button",{staticStyle:{"margin-top":"10px"},attrs:{type:"dashed",long:""},on:{click:e.handleAddMultiAction}},[a("Icon",{attrs:{type:"md-add"}}),e._v(" 新增选择项")],1)],2):e._e()],1)],1)],1)],1):e._e()])},U=[],P={apiList:[{module:"account",module_desc:"账号api",data:[{func:"AccountLogin",url:"/auth/login",method:"post"},{func:"AccountRegister",url:"/auth/register",method:"post"},{func:"AccountLogout",url:"/auth/logout",method:"post"}]},{module:"admin",module_desc:"后台管理员相关接口",data:[{func:"AdminIndex",url:"/admin/index",method:"get"},{func:"AdminSearch",url:"/admin/index",method:"post"},{func:"AdminShow",url:"/admin/show",method:"get"},{func:"AdminStore",url:"/admin/store",method:"post"},{func:"AdminUpdate",url:"/admin/update",method:"post"},{func:"AdminDelete",url:"/admin/delete",method:"post"}]},{module:"attachment",module_desc:"附件相关接口",data:[{func:"AttachmentIndex",url:"/attachment/index",method:"get"},{func:"AttachmentSearch",url:"/attachment/index",method:"post"},{func:"AttachmentShow",url:"/attachment/show",method:"get"},{func:"AttachmentStore",url:"/attachment/store",method:"post"},{func:"AttachmentUpdate",url:"/attachment/update",method:"post"},{func:"AttachmentDelete",url:"/attachment/delete",method:"post"}]},{module:"auth",module_desc:"权限相关接口",data:[{func:"AuthIndex",url:"/auth/index",method:"get"},{func:"AuthSearch",url:"/auth/index",method:"post"},{func:"AuthShow",url:"/auth/show",method:"get"},{func:"AuthStore",url:"/auth/store",method:"post"},{func:"AuthUpdate",url:"/auth/update",method:"post"},{func:"AuthDelete",url:"/auth/delete",method:"post"}]},{module:"comment",module_desc:"评论相关接口",data:[{func:"CommentIndex",url:"/comment/index",method:"get"},{func:"CommentSearch",url:"/comment/index",method:"post"},{func:"CommentShow",url:"/comment/show",method:"get"},{func:"CommentStore",url:"/comment/store",method:"post"},{func:"CommentUpdate",url:"/comment/update",method:"post"},{func:"CommentDelete",url:"/comment/delete",method:"post"}]},{module:"post",module_desc:"账号api",data:[{func:"PostIndex",url:"/post/index",method:"get"},{func:"PostSearch",url:"/post/index",method:"post"},{func:"PostShow",url:"/post/show",method:"get"},{func:"PostStore",url:"/post/store",method:"post"},{func:"PostUpdate",url:"/post/update",method:"post"},{func:"PostDelete",url:"/post/delete",method:"post"}]},{module:"tag",module_desc:"标签相关接口",data:[{func:"TagIndex",url:"/tag/index",method:"get"},{func:"TagSearch",url:"/tag/index",method:"post"},{func:"TagShow",url:"/tag/show",method:"get"},{func:"TagStore",url:"/tag/store",method:"post"},{func:"TagUpdate",url:"/tag/update",method:"post"},{func:"TagDelete",url:"/tag/delete",method:"post"}]},{module:"user",module_desc:"用户相关接口",data:[{func:"UserIndex",url:"/user/index",method:"get"},{func:"UserSearch",url:"/user/index",method:"post"},{func:"UserShow",url:"/user/show",method:"get"},{func:"UserStore",url:"/user/store",method:"post"},{func:"UserUpdate",url:"/user/update",method:"post"},{func:"UserDelete",url:"/user/delete",method:"post"}]}],searchList:[{module:"admin",module_desc:"后台管理员相关接口",data:[{func:"AdminIndex",url:"/admin/index",method:"get"},{func:"AdminSearch",url:"/admin/index",method:"post"}]},{module:"attachment",module_desc:"附件相关接口",data:[{func:"AttachmentIndex",url:"/attachment/index",method:"get"},{func:"AttachmentSearch",url:"/attachment/index",method:"post"}]},{module:"auth",module_desc:"权限相关接口",data:[{func:"AuthIndex",url:"/auth/index",method:"get"},{func:"AuthSearch",url:"/auth/index",method:"post"}]},{module:"comment",module_desc:"评论相关接口",data:[{func:"CommentIndex",url:"/comment/index",method:"get"},{func:"CommentSearch",url:"/comment/index",method:"post"}]},{module:"post",module_desc:"账号api",data:[{func:"PostIndex",url:"/post/index",method:"get"},{func:"PostSearch",url:"/post/index",method:"post"}]},{module:"tag",module_desc:"标签相关接口",data:[{func:"TagIndex",url:"/tag/index",method:"get"},{func:"TagSearch",url:"/tag/index",method:"post"}]},{module:"user",module_desc:"用户相关接口",data:[{func:"UserIndex",url:"/user/index",method:"get"},{func:"UserSearch",url:"/user/index",method:"post"}]}]},J=a("963e"),H={name:"attribute-search",components:{EmptyList:u["a"]},props:{currentElement:{type:Object,default:function(){return{}}},formConfig:{type:Object,default:function(){return{}}}},data:function(){return{apiList:P.searchList,modelLoading:!1,currentModel:[]}},methods:{handleElementSize:function(e){this.$emit("on-element-size",e)},handleSearchActionChange:function(e){var t=this.apiList.filter((function(t){return t.module===e}));this.formConfig.search.search_action.module=t.length>0?t[0].module:"",this.currentElement.ele_attr.search_action.module=t.length>0?t[0].module:"",this.currentElement.ele_attr.search_action.data=t.length>0?t[0].data:[]},handleOptionRemove:function(e){this.currentElement.ele_attr.base_search_form.options.splice(e,1)},handleAddOption:function(){var e=this.handleInitOptions("base");this.currentElement.ele_attr.base_search_form.options.push(e)},handleAdvancedTypeChange:function(e,t,a){t.options=[];var n=this.handleInitOptions(e,t.options);t.options=n},handleActionRemove:function(e){this.currentElement.ele_attr.advanced_search_form.splice(e,1)},handleAddAction:function(){var e=this.handleInitOptions("advanced");this.currentElement.ele_attr.advanced_search_form.push(e)},handleMultiActionRemove:function(e){this.currentElement.ele_attr.multi_actions.splice(e,1)},handleAddMultiAction:function(){var e=this.handleInitOptions("multi_actions");this.currentElement.ele_attr.multi_actions.push(e)},handleBasicActionDropdownMenu:function(e,t,a){"copy"===e?this.handleDeepCloneSplice(this.currentElement.ele_attr.base_search_form.options,t,a):"init"===e&&(this.currentElement.ele_attr.base_search_form.type=t.value)},handleAdvancedActionDropdownMenu:function(e,t,a){"copy"===e?this.handleDeepCloneSplice(this.currentElement.ele_attr.advanced_search_form,t,a):"other-params-select"===e?t.options=this.handleInitOptions("select",t.options):"other-params-switch"===e&&(t.options=this.handleInitOptions("switch",t.options))},handleDeepCloneSplice:function(e,t,a){var n=JSON.parse(JSON.stringify(t));e.splice(a,0,n)},handleAdvancedActionOptionsRemove:function(e,t){e.splice(t,1)},handleAdvancedActionOptionsDropdownMenu:function(e,t,a,n){var l=JSON.parse(JSON.stringify(a));this.currentElement.ele_attr.advanced_search_form[t].options.splice(n,0,l)},handleInitOptions:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"select":0===a.length&&(t=[{name:"",value:""}]);break;case"switch":0===a.length&&(t=[{open:"开",true_value:"true",close:"关",false_value:"false"}]);break;case"base":t={name:"",value:""};break;case"advanced":t={label_name:"label_name",label_prop:"label_prop",ele_value:"",ele_type:"input",options:[]};break;case"multi_actions":t={name:"",value:""};break;case"date":case"datetime":case"daterange":case"datetimerange":case"year":case"month":t={};break;default:t=[];break}return t},handleModuleTableClick:function(){var e=this;this.modelLoading=!0,this.currentModel=[],Object(J["f"])({module:this.currentElement.ele_attr.search_action.module}).then((function(t){e.currentModel=t})).catch((function(e){})).finally((function(){e.modelLoading=!1}))},handleBaseAutoFilter:function(e,t){return-1!==t.toUpperCase().indexOf(e.toUpperCase())},handleSearchUrlChange:function(e){this.formConfig.search.search_action.value=e}}},V=H,q=Object(S["a"])(V,B,U,!1,null,"05a9251e",null),G=q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currentElement?a("div",[a("Form",{ref:"currentFormInline",attrs:{model:e.currentElement,"label-position":"top"}},[a("Card",{attrs:{"dis-hover":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("基本属性")]),a("FormItem",{attrs:{label:"字段hash"}},[a("Input",{attrs:{disabled:"",placeholder:"请输入字段标识"},model:{value:e.currentElement.ele_hash,callback:function(t){e.$set(e.currentElement,"ele_hash",t)},expression:"currentElement.ele_hash"}})],1)],1)],1)],1):e._e()])},Y=[],X={name:"attribute-table",props:{currentElement:{type:Object,default:function(){return{}}},formConfig:{type:Object,default:function(){return{}}}},data:function(){return{apiList:P.searchList}}},K=X,Q=Object(S["a"])(K,W,Y,!1,null,"5255e84d",null),Z=Q.exports,ee={name:"table-attribute",props:{currentElement:{type:Object,default:function(){return{}}},formConfig:{type:Object,default:function(){return{}}}},components:{AttributeTable:Z,AttributeSearch:G},data:function(){return{}},methods:{handleElementSize:function(e){this.$emit("on-element-size",e)}}},te=ee,ae=Object(S["a"])(te,j,R,!1,null,"b52ccf6e",null),ne=ae.exports,le={name:"table-creater",components:{TableAttribute:ne,ComponentTable:M,ComponentSearch:I,Draggable:c.a,Empty:u["a"],Show:L,Attribute:ne,codemirror:s["codemirror"]},data:function(){return{componentsList:m.list,formConfig:m.config,currentElement:void 0,currentIndex:void 0,draggedList:[],editable:!0,isDragging:!1,delayedDragging:!1,formItem:{},elementShowSeen:!1,elementCreateSeen:!1,cmOptions:{tabSize:4,mode:"application/json",theme:"material",lineNumbers:!0,line:!0}}},methods:{onMove:function(e){e.relatedContext,e.draggedContext;return!0},onStart:function(e){this.isDragging=!0},onClone:function(e){},onEnd:function(e){this.isDragging=!1;var t=JSON.parse(JSON.stringify(this.draggedList));t.length>0&&(t.forEach((function(e,t){var a=(new Date).getTime();void 0!==e.ele_attr.element_id&&(e.ele_attr.element_id="mq-"+a+"-"+t),e.ele_hash="mq-"+Object(d["a"])(16)+"-"+t,e.is_active=!1})),t[e.newIndex]&&(t[e.newIndex].is_active=!0,this.currentElement=t[e.newIndex],this.currentIndex=e.newIndex),this.draggedList=t)},handleModalShowOk:function(){console.log("handleModalShowOk")},handleModalShowCancel:function(){this.elementShowSeen=!1},handleDatePickerClick:function(){console.log("handleDatePickerClick")},handleDatePickerDisableDate:function(){console.log("handleDatePickerDisableDate")},handleSwitchBeforeChange:function(){console.log("handleSwitchBeforeChange")},handleSwitchChange:function(e){console.log("handleSwitchChange: ",e)},handleFormItemClick:function(e,t){this.draggedList.forEach((function(e,a){a!==t&&(e.is_active=!1)})),this.draggedList[t].is_active=!this.draggedList[t].is_active,this.currentElement=this.draggedList[t]},handleFormItemClose:function(e,t){this.currentElement=void 0,this.currentIndex=void 0,this.draggedList.splice(t,1)},handleDropDownClick:function(e){"show"===e?this.elementShowSeen=!0:"create"===e&&(this.elementCreateSeen=!0)},handleElementSize:function(e){var t=this;1===e?this.formConfig.table.size_active=!1:(this.formConfig.table.size_active=!0,this.draggedList.forEach((function(e,a){e.ele_size=t.formConfig.table.size})))},handleCopyCode:function(){console.log(this.codeMirror.getValue()),this.$Message.success("复制成功")},handleOpenUpdateCreate:function(e,t){console.log("handleOpenUpdateCreate")}},computed:{dragOptionsLeft:function(){return{group:{name:"shared",pull:"clone",put:!1},disabled:!this.editable,animation:150,sort:!1}},dragOptionsRight:function(){return{group:"shared",animation:150}},listString:{get:function(){return JSON.stringify(this.currentElement,null,2)},set:function(){}},codeMirror:function(){return this.$refs.CodeMirror.codemirror}},watch:{isDragging:function(e){var t=this;e?this.delayedDragging=!0:this.$nextTick((function(){t.delayedDragging=!1}))}}},oe=le,re=(a("85e9"),a("fd7b"),Object(S["a"])(oe,o,r,!1,null,"0e7f2436",null)),se=re.exports,ie={name:"setting-table",components:{TableCreater:se},data:function(){return{}},methods:{}},ce=ie,de=Object(S["a"])(ce,n,l,!1,null,"329213e6",null);t["default"]=de.exports},a9e3:function(e,t,a){"use strict";var n=a("83ab"),l=a("da84"),o=a("94ca"),r=a("6eeb"),s=a("5135"),i=a("c6b6"),c=a("7156"),d=a("c04e"),u=a("d039"),m=a("7c73"),h=a("241c").f,p=a("06cf").f,_=a("9bf2").f,f=a("58a8").trim,v="Number",b=l[v],g=b.prototype,w=i(m(g))==v,y=function(e){var t,a,n,l,o,r,s,i,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=f(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,l=49;break;case 79:case 111:n=8,l=55;break;default:return+c}for(o=c.slice(2),r=o.length,s=0;s<r;s++)if(i=o.charCodeAt(s),i<48||i>l)return NaN;return parseInt(o,n)}return+c};if(o(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,C=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof C&&(w?u((function(){g.valueOf.call(a)})):i(a)!=v)?c(new b(y(t)),a,C):y(t)},S=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;S.length>k;k++)s(b,x=S[k])&&!s(C,x)&&_(C,x,p(b,x));C.prototype=g,g.constructor=C,r(l,v,C)}},d0ef:function(e,t,a){"use strict";var n=a("04a4"),l=a.n(n);l.a},fd7b:function(e,t,a){"use strict";var n=a("7dca"),l=a.n(n);l.a}}]);