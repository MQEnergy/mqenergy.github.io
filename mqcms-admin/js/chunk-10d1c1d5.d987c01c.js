(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d1c1d5"],{"4c96":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"i-layout-page-header"},[a("page-header",{attrs:{title:"站点设置",content:"","hidden-breadcrumb":""}})],1),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Tabs",{attrs:{animated:!1}},[a("TabPane",{attrs:{label:"网站信息"}},[a("site-website",{attrs:{"create-data":e.createData},on:{"on-show":e.handleShow}})],1),a("TabPane",{attrs:{label:"SEO设置"}},[a("site-seo",{attrs:{"create-data":e.createData},on:{"on-show":e.handleShow}})],1),a("TabPane",{attrs:{label:"CDN设置"}},[a("site-cdn",{attrs:{"create-data":e.createData},on:{"on-show":e.handleShow}})],1)],1)],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"30px"}},[a("Form",{directives:[{name:"width",rawName:"v-width",value:600,expression:"600"}],ref:"create",attrs:{model:e.createData,rules:e.createRules,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"网站名称：",prop:"site_name"}},[a("Input",{attrs:{placeholder:"请输入网站名称"},model:{value:e.createData.site_name,callback:function(t){e.$set(e.createData,"site_name",t)},expression:"createData.site_name"}})],1),a("FormItem",{attrs:{label:"后台风格：",prop:"theme_id"}},[a("Select",{model:{value:e.createData.theme_id,callback:function(t){e.$set(e.createData,"theme_id",t)},expression:"createData.theme_id"}},e._l(e.themeList,(function(t,n){return a("Option",{key:n,attrs:{value:t.id,label:t.theme_name}},[a("span",[e._v(e._s(t.theme_name))]),1==t.is_used?a("span",{staticStyle:{float:"right",color:"#19be6b"}},[e._v("当前默认")]):e._e()])})),1)],1),a("FormItem",{attrs:{label:"ICP备案：",prop:"icp_no"}},[a("Input",{attrs:{placeholder:"请输入ICP备案"},model:{value:e.createData.icp_no,callback:function(t){e.$set(e.createData,"icp_no",t)},expression:"createData.icp_no"}})],1),a("FormItem",{attrs:{label:"公网安备：",prop:"safe_record"}},[a("Input",{attrs:{placeholder:"请输入公网安备"},model:{value:e.createData.safe_record,callback:function(t){e.$set(e.createData,"safe_record",t)},expression:"createData.safe_record"}})],1),a("FormItem",{attrs:{label:"站长邮箱：",prop:"site_email"}},[a("Input",{attrs:{placeholder:"请输入站长邮箱"},model:{value:e.createData.site_email,callback:function(t){e.$set(e.createData,"site_email",t)},expression:"createData.site_email"}})],1),a("FormItem",{attrs:{label:"统计代码：",prop:"site_analytics"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入统计代码"},model:{value:e.createData.site_analytics,callback:function(t){e.$set(e.createData,"site_analytics",t)},expression:"createData.site_analytics"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)},c=[],s=a("a34a"),o=a.n(s),l=(a("96cf"),a("1da1")),d=a("b6bd");function u(e){return Object(d["a"])({url:"/site_config/store",method:"post",data:e})}function p(e){return Object(d["a"])({url:"/site_config/show",method:"get",params:e})}function m(e){return Object(d["a"])({url:"/site_config/update",method:"post",data:e})}var h=a("9551"),f={name:"site-website",props:{createData:{type:Object,default:{}}},data:function(){return{loading:!1,createRules:{site_name:[{required:!0,message:"请输入网站名称",trigger:"blur"}]},themeList:[]}},mounted:function(){this.handleThemeList()},methods:{handleThemeList:function(){var e=this;Object(h["a"])().then((function(t){e.themeList=t.data}))},handleSubmit:function(){var e=this;this.$refs.create.validate((function(t){t?(e.createData.id?m(e.createData).then((function(t){e.$Message.success("修改成功")})):u(e.createData).then(function(){var t=Object(l["a"])(o.a.mark((function t(a){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$Message.success("创建成功"),e.$emit("on-show");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.loading=!0,e.$nextTick((function(){e.loading=!1}))):(e.loading=!0,e.$nextTick((function(){e.loading=!1})))}))}}},_=f,b=a("2877"),v=Object(b["a"])(_,i,c,!1,null,"7ac77295",null),D=v.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"30px"}},[a("Form",{directives:[{name:"width",rawName:"v-width",value:600,expression:"600"}],ref:"create",attrs:{model:e.createData,rules:e.createRules,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"SEO标题：",prop:"seo_title"}},[a("Input",{attrs:{placeholder:"请输入SEO标题"},model:{value:e.createData.seo_title,callback:function(t){e.$set(e.createData,"seo_title",t)},expression:"createData.seo_title"}})],1),a("FormItem",{attrs:{label:"SEO关键字：",prop:"seo_keyword"}},[a("Input",{attrs:{placeholder:"请输入SEO关键字"},model:{value:e.createData.seo_keyword,callback:function(t){e.$set(e.createData,"seo_keyword",t)},expression:"createData.seo_keyword"}})],1),a("FormItem",{attrs:{label:"SEO描述：",prop:"seo_description"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入SEO描述"},model:{value:e.createData.seo_description,callback:function(t){e.$set(e.createData,"seo_description",t)},expression:"createData.seo_description"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)},w=[],x={name:"site-seo",props:{createData:{type:Object,default:{}}},data:function(){return{loading:!1,createRules:{}}},methods:{handleSubmit:function(){var e=this;this.$refs.create.validate((function(t){t?(e.createData.id?m(e.createData).then((function(t){e.$Message.success("修改成功")})):u(e.createData).then(function(){var t=Object(l["a"])(o.a.mark((function t(a){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$Message.success("创建成功"),e.$emit("on-show");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.loading=!0,e.$nextTick((function(){e.loading=!1}))):(e.loading=!0,e.$nextTick((function(){e.loading=!1})))}))}}},$=x,k=Object(b["a"])($,g,w,!1,null,"09d5433d",null),y=k.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"30px"}},[a("Form",{directives:[{name:"width",rawName:"v-width",value:600,expression:"600"}],ref:"create",attrs:{model:e.createData,rules:e.createRules,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"cdn地址：",prop:"cdn_url",required:""}},[a("Input",{attrs:{placeholder:"请输入静态资源cdn地址"},model:{value:e.createData.cdn_url,callback:function(t){e.$set(e.createData,"cdn_url",t)},expression:"createData.cdn_url"}}),a("p",{directives:[{name:"color",rawName:"v-color",value:"#999",expression:"'#999'"}]},[e._v(" 此设置是前端静态资源的cdn地址，以 / 结尾 如：http://cdn.mqcms.net/ ")])],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)},I=[],O={name:"site-cdn",props:{createData:{type:Object,default:{}}},data:function(){return{loading:!1,createRules:{}}},methods:{handleSubmit:function(){var e=this;this.$refs.create.validate((function(t){t?(e.createData.id?m(e.createData).then((function(t){e.$Message.success("修改成功")})):u(e.createData).then(function(){var t=Object(l["a"])(o.a.mark((function t(a){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$Message.success("创建成功"),e.$emit("on-show");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.loading=!0,e.$nextTick((function(){e.loading=!1}))):(e.loading=!0,e.$nextTick((function(){e.loading=!1})))}))}}},j=O,F=Object(b["a"])(j,S,I,!1,null,"1e0f2f60",null),T=F.exports,E={name:"setting-site",components:{SiteCdn:T,SiteSeo:y,SiteWebsite:D},data:function(){return{id:"",createData:{id:"",site_name:"",theme_id:"",icp_no:"",safe_record:"",site_email:"",site_analytics:"",seo_title:"",seo_keyword:"",seo_description:"",cdn_url:""}}},mounted:function(){this.handleShow()},methods:{handleShow:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p({id:t}).then((function(t){e.createData=Object.assign(e.createData,t)}))}}},C=E,M=Object(b["a"])(C,n,r,!1,null,"0385c7cc",null);t["default"]=M.exports},9551:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("b6bd");function r(e){return Object(n["a"])({url:"/theme_config/index",method:"get",data:e})}}}]);